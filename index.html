<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MKTG1485 — CX Persona Template</title>

  <style>
    :root{
      --rmit-blue:#0d1b4c;
      --rmit-red:#c71f23;
      --rmit-grey:#f6f6f6;
      --ink:#1c1c1c;
      --line:#e6e6e6;
      --muted:#6b7280;
      --bg:#ffffff;
      --radius:12px;
    }

    html,body{margin:0;padding:0;background:#fff;color:var(--ink);font-family:Arial,Helvetica,sans-serif}
    .wrap{max-width:1100px;margin:28px auto;padding:0 16px 64px}

    /* Kicker + title */
    .kicker{font-size:12px;color:var(--muted);letter-spacing:.2px;margin:0 0 6px}
    h1{margin:0 0 18px;color:var(--rmit-blue);font-size:26px}

    /* Header card */
    .card{background:#fff;border:1px solid var(--line);border-radius:var(--radius);padding:18px}
    .row{display:grid;gap:12px;grid-template-columns:1fr 1fr 1fr}
    .field{display:flex;flex-direction:column;gap:6px}
    .label{font-size:13px;color:var(--muted)}
    .input, .textarea{
      border:1px solid var(--line);border-radius:10px;background:#fff;
      padding:10px 12px;font-size:14px;outline:none
    }
    .input:focus,.textarea:focus{border-color:var(--rmit-blue);box-shadow:0 0 0 2px rgba(13,27,76,.08)}

    /* Section titles */
    .section{margin-top:22px}
    .section h2{font-size:18px;color:var(--rmit-blue);margin:0 0 10px}

    /* Two-column grid with equal row heights */
    .pair-grid{
      display:grid;grid-template-columns:repeat(2,minmax(280px,1fr));gap:14px;
      align-items:stretch;grid-auto-rows:1fr;
    }
    .field.cardish{height:100%;border:1px solid var(--line);border-radius:var(--radius);padding:12px;background:#fff}
    .field.cardish .title{font-weight:700;color:var(--rmit-red);margin:0 0 4px}
    .field.cardish .hint{font-size:12px;color:var(--muted);margin:0 0 8px}
    .field.cardish .textarea{flex:1;min-height:180px;resize:vertical}

    /* Evidence tags */
    .evidence{margin-top:18px;border:1px dashed var(--line);border-radius:var(--radius);padding:12px;background:var(--bg)}
    .evidence h3{margin:0 0 6px;color:var(--rmit-blue);font-size:16px}
    .evidence p{margin:0 0 8px;color:var(--muted);font-size:12px}
    .tag-grid{display:grid;grid-template-columns:repeat(5,minmax(120px,1fr));gap:8px}
    .tag-grid input{border:1px solid var(--line);border-radius:8px;padding:8px;font-size:12px;min-height:34px}

    /* Toolbar */
    .toolbar{display:flex;gap:10px;align-items:center;margin:16px 0}
    .btn{
      background:var(--rmit-blue);color:#fff;border:none;border-radius:10px;
      padding:10px 14px;font-size:14px;cursor:pointer
    }
    .btn.alt{background:#fff;color:var(--ink);border:1px solid var(--line)}
    .btn:disabled{opacity:.4;cursor:not-allowed}

    .muted{font-size:12px;color:var(--muted)}
    @media (max-width:980px){
      .row{grid-template-columns:1fr}
      .pair-grid{grid-template-columns:1fr}
      .tag-grid{grid-template-columns:repeat(2,1fr)}
    }
    @media (min-width:981px) and (max-width:1200px){
      .tag-grid{grid-template-columns:repeat(4,1fr)}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <p class="kicker">MKTG1485 Customer Experience Strategy</p>
    <h1>Customer Persona</h1>

    <!-- Header: identity + logistics -->
    <div class="card">
      <div class="row">
        <div class="field">
          <div class="label">Persona name</div>
          <input id="p_name" class="input" placeholder="e.g. Night‑shift nurse commuter"/>
        </div>
        <div class="field">
          <div class="label">Team or student name</div>
          <input id="p_team" class="input" placeholder="e.g. Team 7 — Journey Ninjas"/>
        </div>
        <div class="field">
          <div class="label">Date</div>
          <input id="p_date" type="date" class="input"/>
        </div>
      </div>

      <div class="row" style="margin-top:10px;">
        <div class="field">
          <div class="label">Key customer quote</div>
          <input id="p_quote" class="input" placeholder='"A short, telling quote that captures their mindset."'/>
        </div>
        <div class="field">
          <div class="label">Photo URL (optional)</div>
          <input id="p_photo" class="input" placeholder="Link to a representative image (no faces if real people)"/>
        </div>
        <div class="field">
          <div class="label">Demographic sketch (only if relevant)</div>
          <input id="p_demo" class="input" placeholder="Life stage or constraints that affect behaviour (keep minimal)"/>
        </div>
      </div>
    </div>

    <div class="toolbar">
      <button id="export" class="btn">Export to Word</button>
      <button id="save" class="btn alt">Save (browser)</button>
      <button id="load" class="btn alt">Load</button>
      <button id="clear" class="btn alt">Clear</button>
      <span class="muted" style="margin-left:auto">Your data stays in your browser until you export.</span>
    </div>

    <!-- Goals, context, routines -->
    <div class="section">
      <h2>Goals, context and routines</h2>
      <div class="pair-grid">
        <div class="field cardish">
          <div class="title">Primary goal</div>
          <div class="hint">What they want to achieve.</div>
          <textarea id="goal" class="textarea" placeholder="Describe the core outcome the persona is trying to achieve and why it matters."></textarea>
        </div>
        <div class="field cardish">
          <div class="title">Pain points</div>
          <div class="hint">Main frustrations.</div>
          <textarea id="pains" class="textarea" placeholder="List the key friction points that block progress or cause stress."></textarea>
        </div>

        <div class="field cardish">
          <div class="title">Context &amp; scenario</div>
          <div class="hint">When and why they engage.</div>
          <textarea id="context" class="textarea" placeholder="Outline situations and triggers that lead them to engage with the service."></textarea>
        </div>
        <div class="field cardish">
          <div class="title">Success criteria</div>
          <div class="hint">How they judge success.</div>
          <textarea id="success" class="textarea" placeholder="How will this persona decide their goal has been achieved? What proof do they need?"></textarea>
        </div>

        <div class="field cardish">
          <div class="title">Behaviours &amp; routines</div>
          <div class="hint">Decision approach, key habits, channel use, information sources.</div>
          <textarea id="behaviours" class="textarea" placeholder="Decision style, repeat behaviours, time constraints, who influences them, where they look for information."></textarea>
        </div>
        <div class="field cardish">
          <div class="title">Media &amp; technology</div>
          <div class="hint">Preferred devices, platforms, usage patterns; accessibility needs.</div>
          <textarea id="media" class="textarea" placeholder="Primary devices, platforms and usage windows. Note any accessibility needs."></textarea>
        </div>
      </div>
    </div>

    <!-- Decision influences and category use -->
    <div class="section">
      <h2>Decision influences and category use</h2>
      <div class="pair-grid">
        <div class="field cardish">
          <div class="title">Motivators &amp; barriers</div>
          <div class="hint">What moves them forward or holds them back.</div>
          <textarea id="motivation" class="textarea" placeholder="Emotional triggers, risk perceptions, social proof, cost–benefit trade‑offs."></textarea>
        </div>
        <div class="field cardish">
          <div class="title">Category use</div>
          <div class="hint">Frequency and preferred companies/brands.</div>
          <textarea id="category" class="textarea" placeholder="How often they use this category, typical spend, preferred brands and why."></textarea>
        </div>

        <div class="field cardish">
          <div class="title">Accessibility &amp; constraints</div>
          <div class="hint">Time, physical, digital or policy constraints that affect behaviour.</div>
          <textarea id="constraints" class="textarea" placeholder="Shift patterns, carer duties, transport, device or data limits, language, paperwork, eligibility rules."></textarea>
        </div>
        <div class="field cardish">
          <div class="title">Moments of truth</div>
          <div class="hint">High‑stakes interactions where impressions are formed.</div>
          <textarea id="moments" class="textarea" placeholder="Define the interactions that most strongly influence trust or drop‑off."></textarea>
        </div>
      </div>
    </div>

    <!-- Evidence -->
    <div class="section">
      <h2>Evidence &amp; traceability</h2>
      <div class="evidence">
        <h3>Evidence tags</h3>
        <p>Reference the sources behind your persona. Use consistent tags such as <strong>INT‑01</strong> (interview), <strong>SUR‑07</strong> (survey), <strong>SEC‑03</strong> (secondary).</p>
        <div id="tagGrid" class="tag-grid"></div>
      </div>
    </div>

    <p class="muted" style="margin-top:16px">Tip: only include information you can support with evidence. If it is not evidenced, mark it as an assumption for later validation.</p>
  </div>

  <script>
    // Build 20 evidence tag inputs
    (function(){
      const grid = document.getElementById('tagGrid');
      for(let i=1;i<=20;i++){
        const inp = document.createElement('input');
        inp.placeholder = `Tag ${i} e.g. ${i<10?'INT‑0'+i:'INT‑'+i}`;
        grid.appendChild(inp);
      }
    })();

    // Save / Load / Clear (localStorage)
    const fields = [
      'p_name','p_team','p_date','p_quote','p_photo','p_demo',
      'goal','pains','context','success','behaviours','media',
      'motivation','category','constraints','moments'
    ];

    function getState(){
      const data = {};
      fields.forEach(id=>data[id] = (document.getElementById(id).value||''));
      data.tags = Array.from(document.querySelectorAll('#tagGrid input')).map(i=>i.value||'');
      return data;
    }

    function setState(data){
      if(!data) return;
      fields.forEach(id=>{
        if(Object.prototype.hasOwnProperty.call(data,id)){
          document.getElementById(id).value = data[id]||'';
        }
      });
      if(Array.isArray(data.tags)){
        const inputs = document.querySelectorAll('#tagGrid input');
        inputs.forEach((inp,idx)=>{inp.value = data.tags[idx]||'';});
      }
    }

    document.getElementById('save').addEventListener('click',()=>{
      localStorage.setItem('cx_persona_v1', JSON.stringify(getState()));
      alert('Saved in this browser.');
    });

    document.getElementById('load').addEventListener('click',()=>{
      const raw = localStorage.getItem('cx_persona_v1');
      if(!raw){ alert('No saved data found.'); return; }
      try{ setState(JSON.parse(raw)); }catch(e){ alert('Could not load saved data.'); }
    });

    document.getElementById('clear').addEventListener('click',()=>{
      if(confirm('Clear all fields?')){ setState({tags:[]}); fields.forEach(id=>document.getElementById(id).value=''); document.querySelectorAll('#tagGrid input').forEach(i=>i.value=''); }
    });

    // Export to Word
    document.getElementById('export').addEventListener('click', ()=>{
      const data = getState();

      // Build simple header with optional photo
      const photo = (data.p_photo||'').trim();
      const photoHTML = photo ? `<img src="${photo}" alt="" style="width:72px;height:72px;border-radius:50%;object-fit:cover;border:1px solid #ddd;margin-right:12px;">` : `<div style="width:72px;height:72px;border-radius:50%;background:#0d1b4c;color:#fff;display:flex;align-items:center;justify-content:center;margin-right:12px;font:bold 14px Arial;">Photo</div>`;

      const tags = (data.tags||[]).filter(Boolean).map(t=>`<span style="display:inline-block;border:1px solid #ddd;border-radius:6px;padding:4px 6px;margin:2px;font-size:11px">${t}</span>`).join(' ');

      const sec = (title, leftTitle, leftBody, rightTitle, rightBody) => `
        <h2 style="font:700 14px Arial;color:#0d1b4c;margin:16px 0 8px">${title}</h2>
        <table style="width:100%;border-collapse:collapse;table-layout:fixed">
          <tr>
            <td style="width:50%;vertical-align:top;border:1px solid #ddd;padding:8px">
              <div style="color:#c71f23;font-weight:700;margin-bottom:4px">${leftTitle}</div>
              <div style="white-space:pre-wrap">${leftBody||'—'}</div>
            </td>
            <td style="width:50%;vertical-align:top;border:1px solid #ddd;padding:8px">
              <div style="color:#c71f23;font-weight:700;margin-bottom:4px">${rightTitle}</div>
              <div style="white-space:pre-wrap">${rightBody||'—'}</div>
            </td>
          </tr>
        </table>`;

      const html = `
<!DOCTYPE html><html><head><meta charset="utf-8">
<title>Persona — ${data.p_name||'Unnamed'}</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;font-size:12px;color:#111}
  h1{font-size:18px;color:#0d1b4c;margin:0 0 8px}
  .muted{color:#666}
</style>
</head><body>
  <div style="display:flex;align-items:center;margin-bottom:8px">
    ${photoHTML}
    <div>
      <h1 style="margin:0">${data.p_name||'Persona'}</h1>
      <div class="muted" style="font-style:italic">${data.p_quote||''}</div>
      <div class="muted" style="margin-top:4px">
        <strong>Team:</strong> ${data.p_team||'—'} &nbsp;|&nbsp;
        <strong>Date:</strong> ${data.p_date||'—'} &nbsp;|&nbsp;
        <strong>Demographic sketch:</strong> ${data.p_demo||'—'}
      </div>
    </div>
  </div>

  ${sec('Goals, context and routines','Primary goal',data.goal,'Pain points',data.pains)}
  ${sec('','Context & scenario',data.context,'Success criteria',data.success)}
  ${sec('','Behaviours & routines',data.behaviours,'Media & technology',data.media)}
  ${sec('Decision influences and category use','Motivators & barriers',data.motivation,'Category use',data.category)}
  ${sec('','Accessibility & constraints',data.constraints,'Moments of truth',data.moments)}

  <h2 style="font:700 14px Arial;color:#0d1b4c;margin:16px 0 8px">Evidence tags</h2>
  <div>${tags || '<em class="muted">No tags provided.</em>'}</div>
</body></html>`;

      const blob = new Blob(['\ufeff', html], {type:'application/msword;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      const safe = (data.p_name||'persona').replace(/[^\w\-]+/g,'_');
      a.href = url; a.download = `${safe}_persona.doc`;
      document.body.appendChild(a); a.click();
      URL.revokeObjectURL(url); a.remove();
    });
  </script>
</body>
</html>
